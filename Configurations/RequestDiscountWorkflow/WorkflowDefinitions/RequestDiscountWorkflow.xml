<?xml version="1.0"?>
<EsbWorkflowDefinition xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Id>fc440009-8c4a-46a1-bb5a-64d82734b909</Id>
  <Version>2978a758-1b80-4daa-9da9-7711c69f9058</Version>
  <Name>RequestDiscountWorkflow</Name>
  <Description />
  <IsSystemObject>false</IsSystemObject>
  <Category>General</Category>
  <Path />
  <WorkflowType>RequestReplyWorkflow</WorkflowType>
  <WorkflowXaml>&lt;?xml version="1.0" encoding="utf-16"?&gt;
&lt;Activity x:Class="RequestDiscountWorkflow" xmlns="http://schemas.microsoft.com/netfx/2009/xaml/activities" xmlns:av="http://schemas.microsoft.com/winfx/2006/xaml/presentation" xmlns:mva="clr-namespace:Microsoft.VisualBasic.Activities;assembly=System.Activities" xmlns:ne="clr-namespace:Neuron.Esb;assembly=Neuron.Esb" xmlns:nea="clr-namespace:Neuron.Esb.Administration;assembly=Neuron.Esb" xmlns:nea1="clr-namespace:Neuron.Esb.Activities;assembly=Neuron.Esb.Activities" xmlns:s="clr-namespace:System;assembly=mscorlib" xmlns:s1="clr-namespace:System;assembly=System" xmlns:s2="clr-namespace:System;assembly=System.ComponentModel.Composition" xmlns:s3="clr-namespace:System;assembly=System.Core" xmlns:s4="clr-namespace:System;assembly=System.ServiceModel" xmlns:sa="clr-namespace:System.Activities;assembly=System.Activities" xmlns:sap="http://schemas.microsoft.com/netfx/2009/xaml/activities/presentation" xmlns:sap2010="http://schemas.microsoft.com/netfx/2010/xaml/activities/presentation" xmlns:scg="clr-namespace:System.Collections.Generic;assembly=mscorlib" xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"&gt;
  &lt;x:Members&gt;
    &lt;x:Property Name="request" Type="InArgument(ne:ESBMessage)" /&gt;
    &lt;x:Property Name="reply" Type="OutArgument(ne:ESBMessage)" /&gt;
    &lt;x:Property Name="configuration" Type="InArgument(nea:ESBConfiguration)" /&gt;
    &lt;x:Property Name="environmentVariables" Type="InArgument(scg:IReadOnlyDictionary(x:String, x:String))" /&gt;
  &lt;/x:Members&gt;
  &lt;sap:VirtualizedContainerService.HintSize&gt;1095,946&lt;/sap:VirtualizedContainerService.HintSize&gt;
  &lt;sap2010:WorkflowViewState.IdRef&gt;RequestDiscountWorkflow_1&lt;/sap2010:WorkflowViewState.IdRef&gt;
  &lt;mva:VisualBasic.Settings&gt;Assembly references and imported namespaces for internal implementation&lt;/mva:VisualBasic.Settings&gt;
  &lt;Flowchart sap:VirtualizedContainerService.HintSize="1055,826" sap2010:WorkflowViewState.IdRef="Flowchart_1"&gt;
    &lt;Flowchart.Variables&gt;
      &lt;Variable x:TypeArguments="x:String" Name="promoCode" /&gt;
      &lt;Variable x:TypeArguments="x:Double" Name="discount" /&gt;
    &lt;/Flowchart.Variables&gt;
    &lt;sap:WorkflowViewStateService.ViewState&gt;
      &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
        &lt;x:Boolean x:Key="IsExpanded"&gt;False&lt;/x:Boolean&gt;
        &lt;av:Point x:Key="ShapeLocation"&gt;490,0&lt;/av:Point&gt;
        &lt;av:Size x:Key="ShapeSize"&gt;60,75&lt;/av:Size&gt;
        &lt;av:PointCollection x:Key="ConnectorLocation"&gt;520,75 520,107.5&lt;/av:PointCollection&gt;
        &lt;x:Double x:Key="Width"&gt;1041&lt;/x:Double&gt;
        &lt;x:Double x:Key="Height"&gt;790&lt;/x:Double&gt;
      &lt;/scg:Dictionary&gt;
    &lt;/sap:WorkflowViewStateService.ViewState&gt;
    &lt;Flowchart.StartNode&gt;
      &lt;x:Reference&gt;__ReferenceID9&lt;/x:Reference&gt;
    &lt;/Flowchart.StartNode&gt;
    &lt;FlowStep x:Name="__ReferenceID9" sap2010:WorkflowViewState.IdRef="FlowStep_5"&gt;
      &lt;sap:WorkflowViewStateService.ViewState&gt;
        &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
          &lt;av:Point x:Key="ShapeLocation"&gt;420,107.5&lt;/av:Point&gt;
          &lt;av:Size x:Key="ShapeSize"&gt;200,36&lt;/av:Size&gt;
          &lt;av:PointCollection x:Key="ConnectorLocation"&gt;520,143.5 519.431666666667,143.5 519.431666666667,163.5&lt;/av:PointCollection&gt;
        &lt;/scg:Dictionary&gt;
      &lt;/sap:WorkflowViewStateService.ViewState&gt;
      &lt;nea1:CSharpCodeActivity ReferencedAssemblies="{x:Array Type=x:String}" DisplayName="Parse Request Message" sap:VirtualizedContainerService.HintSize="200,36" sap2010:WorkflowViewState.IdRef="CSharpCodeActivity_1" SourceCode="promoCode = request.Text.ToUpper();"&gt;
        &lt;sap:WorkflowViewStateService.ViewState&gt;
          &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
            &lt;x:Boolean x:Key="IsExpanded"&gt;True&lt;/x:Boolean&gt;
          &lt;/scg:Dictionary&gt;
        &lt;/sap:WorkflowViewStateService.ViewState&gt;
      &lt;/nea1:CSharpCodeActivity&gt;
      &lt;FlowStep.Next&gt;
        &lt;FlowStep x:Name="__ReferenceID1" sap2010:WorkflowViewState.IdRef="FlowStep_4"&gt;
          &lt;sap:WorkflowViewStateService.ViewState&gt;
            &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
              &lt;av:Point x:Key="ShapeLocation"&gt;414.431666666667,163.5&lt;/av:Point&gt;
              &lt;av:Size x:Key="ShapeSize"&gt;210,60&lt;/av:Size&gt;
              &lt;av:PointCollection x:Key="ConnectorLocation"&gt;519.431666666667,223.5 519.431666666667,253.5 520,253.5 520,256.5&lt;/av:PointCollection&gt;
            &lt;/scg:Dictionary&gt;
          &lt;/sap:WorkflowViewStateService.ViewState&gt;
          &lt;WriteLine sap:VirtualizedContainerService.HintSize="210,60" sap2010:WorkflowViewState.IdRef="WriteLine_1" Text="[&amp;quot;Promo Code: &amp;quot; + promoCode]"&gt;
            &lt;sap:WorkflowViewStateService.ViewState&gt;
              &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                &lt;x:Boolean x:Key="IsExpanded"&gt;True&lt;/x:Boolean&gt;
              &lt;/scg:Dictionary&gt;
            &lt;/sap:WorkflowViewStateService.ViewState&gt;
          &lt;/WriteLine&gt;
          &lt;FlowStep.Next&gt;
            &lt;FlowSwitch x:TypeArguments="x:String" x:Name="__ReferenceID4" Expression="[promoCode]" sap:VirtualizedContainerService.HintSize="70,87" sap2010:WorkflowViewState.IdRef="FlowSwitch`1_1"&gt;
              &lt;FlowSwitch.Default&gt;
                &lt;FlowStep x:Name="__ReferenceID5" sap2010:WorkflowViewState.IdRef="FlowStep_6"&gt;
                  &lt;sap:WorkflowViewStateService.ViewState&gt;
                    &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                      &lt;av:Point x:Key="ShapeLocation"&gt;799,420&lt;/av:Point&gt;
                      &lt;av:Size x:Key="ShapeSize"&gt;242,60&lt;/av:Size&gt;
                      &lt;av:PointCollection x:Key="ConnectorLocation"&gt;920,480 920,570 630,570&lt;/av:PointCollection&gt;
                    &lt;/scg:Dictionary&gt;
                  &lt;/sap:WorkflowViewStateService.ViewState&gt;
                  &lt;Assign sap:VirtualizedContainerService.HintSize="242,60" sap2010:WorkflowViewState.IdRef="Assign_2"&gt;
                    &lt;Assign.To&gt;
                      &lt;OutArgument x:TypeArguments="x:Double"&gt;[discount]&lt;/OutArgument&gt;
                    &lt;/Assign.To&gt;
                    &lt;Assign.Value&gt;
                      &lt;InArgument x:TypeArguments="x:Double"&gt;[0.0R]&lt;/InArgument&gt;
                    &lt;/Assign.Value&gt;
                    &lt;sap:WorkflowViewStateService.ViewState&gt;
                      &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                        &lt;x:Boolean x:Key="IsExpanded"&gt;True&lt;/x:Boolean&gt;
                      &lt;/scg:Dictionary&gt;
                    &lt;/sap:WorkflowViewStateService.ViewState&gt;
                  &lt;/Assign&gt;
                  &lt;FlowStep.Next&gt;
                    &lt;x:Reference&gt;__ReferenceID0&lt;/x:Reference&gt;
                  &lt;/FlowStep.Next&gt;
                &lt;/FlowStep&gt;
              &lt;/FlowSwitch.Default&gt;
              &lt;sap:WorkflowViewStateService.ViewState&gt;
                &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                  &lt;x:Boolean x:Key="IsExpanded"&gt;True&lt;/x:Boolean&gt;
                  &lt;av:Point x:Key="ShapeLocation"&gt;485,256.5&lt;/av:Point&gt;
                  &lt;av:Size x:Key="ShapeSize"&gt;70,87&lt;/av:Size&gt;
                  &lt;av:PointCollection x:Key="Default"&gt;555,300 920,300 920,420&lt;/av:PointCollection&gt;
                  &lt;av:PointCollection x:Key="BRONZEConnector"&gt;555,321.75 660,321.75 660,420&lt;/av:PointCollection&gt;
                  &lt;av:PointCollection x:Key="SILVERConnector"&gt;485,321.75 381,321.75 381,420&lt;/av:PointCollection&gt;
                  &lt;av:PointCollection x:Key="GOLDConnector"&gt;485,300 121,300 121,420&lt;/av:PointCollection&gt;
                &lt;/scg:Dictionary&gt;
              &lt;/sap:WorkflowViewStateService.ViewState&gt;
              &lt;FlowStep x:Key="GOLD" x:Name="__ReferenceID8" sap2010:WorkflowViewState.IdRef="FlowStep_7"&gt;
                &lt;sap:WorkflowViewStateService.ViewState&gt;
                  &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                    &lt;av:Point x:Key="ShapeLocation"&gt;0,420&lt;/av:Point&gt;
                    &lt;av:Size x:Key="ShapeSize"&gt;242,60&lt;/av:Size&gt;
                    &lt;av:PointCollection x:Key="ConnectorLocation"&gt;121,480 121,570 430,570&lt;/av:PointCollection&gt;
                  &lt;/scg:Dictionary&gt;
                &lt;/sap:WorkflowViewStateService.ViewState&gt;
                &lt;Assign sap:VirtualizedContainerService.HintSize="242,60" sap2010:WorkflowViewState.IdRef="Assign_3"&gt;
                  &lt;Assign.To&gt;
                    &lt;OutArgument x:TypeArguments="x:Double"&gt;[discount]&lt;/OutArgument&gt;
                  &lt;/Assign.To&gt;
                  &lt;Assign.Value&gt;
                    &lt;InArgument x:TypeArguments="x:Double"&gt;[20.0R]&lt;/InArgument&gt;
                  &lt;/Assign.Value&gt;
                  &lt;sap:WorkflowViewStateService.ViewState&gt;
                    &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                      &lt;x:Boolean x:Key="IsExpanded"&gt;True&lt;/x:Boolean&gt;
                    &lt;/scg:Dictionary&gt;
                  &lt;/sap:WorkflowViewStateService.ViewState&gt;
                &lt;/Assign&gt;
                &lt;FlowStep.Next&gt;
                  &lt;FlowStep x:Name="__ReferenceID0" sap2010:WorkflowViewState.IdRef="FlowStep_3"&gt;
                    &lt;sap:WorkflowViewStateService.ViewState&gt;
                      &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                        &lt;av:Point x:Key="ShapeLocation"&gt;430,552&lt;/av:Point&gt;
                        &lt;av:Size x:Key="ShapeSize"&gt;200,36&lt;/av:Size&gt;
                        &lt;av:PointCollection x:Key="ConnectorLocation"&gt;530,588 530,630&lt;/av:PointCollection&gt;
                      &lt;/scg:Dictionary&gt;
                    &lt;/sap:WorkflowViewStateService.ViewState&gt;
                    &lt;nea1:CreateReplyMessage sap:VirtualizedContainerService.HintSize="200,36" sap2010:WorkflowViewState.IdRef="CreateReplyMessage_1" RequestMessage="[request]" Result="[reply]"&gt;
                      &lt;sap:WorkflowViewStateService.ViewState&gt;
                        &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                          &lt;x:Boolean x:Key="IsExpanded"&gt;True&lt;/x:Boolean&gt;
                        &lt;/scg:Dictionary&gt;
                      &lt;/sap:WorkflowViewStateService.ViewState&gt;
                    &lt;/nea1:CreateReplyMessage&gt;
                    &lt;FlowStep.Next&gt;
                      &lt;FlowStep x:Name="__ReferenceID2" sap2010:WorkflowViewState.IdRef="FlowStep_2"&gt;
                        &lt;sap:WorkflowViewStateService.ViewState&gt;
                          &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                            &lt;av:Point x:Key="ShapeLocation"&gt;409,630&lt;/av:Point&gt;
                            &lt;av:Size x:Key="ShapeSize"&gt;242,60&lt;/av:Size&gt;
                            &lt;av:PointCollection x:Key="ConnectorLocation"&gt;530,690 530,730&lt;/av:PointCollection&gt;
                          &lt;/scg:Dictionary&gt;
                        &lt;/sap:WorkflowViewStateService.ViewState&gt;
                        &lt;Assign sap:VirtualizedContainerService.HintSize="242,60" sap2010:WorkflowViewState.IdRef="Assign_1"&gt;
                          &lt;Assign.To&gt;
                            &lt;OutArgument x:TypeArguments="x:String"&gt;[reply.Text]&lt;/OutArgument&gt;
                          &lt;/Assign.To&gt;
                          &lt;Assign.Value&gt;
                            &lt;InArgument x:TypeArguments="x:String"&gt;[discount.ToString()]&lt;/InArgument&gt;
                          &lt;/Assign.Value&gt;
                          &lt;sap:WorkflowViewStateService.ViewState&gt;
                            &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                              &lt;x:Boolean x:Key="IsExpanded"&gt;True&lt;/x:Boolean&gt;
                            &lt;/scg:Dictionary&gt;
                          &lt;/sap:WorkflowViewStateService.ViewState&gt;
                        &lt;/Assign&gt;
                        &lt;FlowStep.Next&gt;
                          &lt;FlowStep x:Name="__ReferenceID3" sap2010:WorkflowViewState.IdRef="FlowStep_1"&gt;
                            &lt;sap:WorkflowViewStateService.ViewState&gt;
                              &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                                &lt;av:Point x:Key="ShapeLocation"&gt;425,730&lt;/av:Point&gt;
                                &lt;av:Size x:Key="ShapeSize"&gt;210,60&lt;/av:Size&gt;
                              &lt;/scg:Dictionary&gt;
                            &lt;/sap:WorkflowViewStateService.ViewState&gt;
                            &lt;WriteLine sap:VirtualizedContainerService.HintSize="210,60" sap2010:WorkflowViewState.IdRef="WriteLine_2" Text="[&amp;quot;Discount: &amp;quot; + discount.ToString()]"&gt;
                              &lt;sap:WorkflowViewStateService.ViewState&gt;
                                &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                                  &lt;x:Boolean x:Key="IsExpanded"&gt;True&lt;/x:Boolean&gt;
                                &lt;/scg:Dictionary&gt;
                              &lt;/sap:WorkflowViewStateService.ViewState&gt;
                            &lt;/WriteLine&gt;
                          &lt;/FlowStep&gt;
                        &lt;/FlowStep.Next&gt;
                      &lt;/FlowStep&gt;
                    &lt;/FlowStep.Next&gt;
                  &lt;/FlowStep&gt;
                &lt;/FlowStep.Next&gt;
              &lt;/FlowStep&gt;
              &lt;FlowStep x:Key="BRONZE" x:Name="__ReferenceID6" sap2010:WorkflowViewState.IdRef="FlowStep_8"&gt;
                &lt;sap:WorkflowViewStateService.ViewState&gt;
                  &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                    &lt;av:Point x:Key="ShapeLocation"&gt;539,420&lt;/av:Point&gt;
                    &lt;av:Size x:Key="ShapeSize"&gt;242,60&lt;/av:Size&gt;
                    &lt;av:PointCollection x:Key="ConnectorLocation"&gt;660,480 660,510 530,510 530,552&lt;/av:PointCollection&gt;
                  &lt;/scg:Dictionary&gt;
                &lt;/sap:WorkflowViewStateService.ViewState&gt;
                &lt;Assign sap:VirtualizedContainerService.HintSize="242,60" sap2010:WorkflowViewState.IdRef="Assign_4"&gt;
                  &lt;Assign.To&gt;
                    &lt;OutArgument x:TypeArguments="x:Double"&gt;[discount]&lt;/OutArgument&gt;
                  &lt;/Assign.To&gt;
                  &lt;Assign.Value&gt;
                    &lt;InArgument x:TypeArguments="x:Double"&gt;[10.0R]&lt;/InArgument&gt;
                  &lt;/Assign.Value&gt;
                  &lt;sap:WorkflowViewStateService.ViewState&gt;
                    &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                      &lt;x:Boolean x:Key="IsExpanded"&gt;True&lt;/x:Boolean&gt;
                    &lt;/scg:Dictionary&gt;
                  &lt;/sap:WorkflowViewStateService.ViewState&gt;
                &lt;/Assign&gt;
                &lt;FlowStep.Next&gt;
                  &lt;x:Reference&gt;__ReferenceID0&lt;/x:Reference&gt;
                &lt;/FlowStep.Next&gt;
              &lt;/FlowStep&gt;
              &lt;FlowStep x:Key="SILVER" x:Name="__ReferenceID7" sap2010:WorkflowViewState.IdRef="FlowStep_9"&gt;
                &lt;sap:WorkflowViewStateService.ViewState&gt;
                  &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                    &lt;av:Point x:Key="ShapeLocation"&gt;260,420&lt;/av:Point&gt;
                    &lt;av:Size x:Key="ShapeSize"&gt;242,60&lt;/av:Size&gt;
                    &lt;av:PointCollection x:Key="ConnectorLocation"&gt;381,480 381,510 530,510 530,552&lt;/av:PointCollection&gt;
                  &lt;/scg:Dictionary&gt;
                &lt;/sap:WorkflowViewStateService.ViewState&gt;
                &lt;Assign sap:VirtualizedContainerService.HintSize="242,60" sap2010:WorkflowViewState.IdRef="Assign_5"&gt;
                  &lt;Assign.To&gt;
                    &lt;OutArgument x:TypeArguments="x:Double"&gt;[discount]&lt;/OutArgument&gt;
                  &lt;/Assign.To&gt;
                  &lt;Assign.Value&gt;
                    &lt;InArgument x:TypeArguments="x:Double"&gt;[15.0R]&lt;/InArgument&gt;
                  &lt;/Assign.Value&gt;
                  &lt;sap:WorkflowViewStateService.ViewState&gt;
                    &lt;scg:Dictionary x:TypeArguments="x:String, x:Object"&gt;
                      &lt;x:Boolean x:Key="IsExpanded"&gt;True&lt;/x:Boolean&gt;
                    &lt;/scg:Dictionary&gt;
                  &lt;/sap:WorkflowViewStateService.ViewState&gt;
                &lt;/Assign&gt;
                &lt;FlowStep.Next&gt;
                  &lt;x:Reference&gt;__ReferenceID0&lt;/x:Reference&gt;
                &lt;/FlowStep.Next&gt;
              &lt;/FlowStep&gt;
            &lt;/FlowSwitch&gt;
          &lt;/FlowStep.Next&gt;
        &lt;/FlowStep&gt;
      &lt;/FlowStep.Next&gt;
    &lt;/FlowStep&gt;
    &lt;x:Reference&gt;__ReferenceID1&lt;/x:Reference&gt;
    &lt;x:Reference&gt;__ReferenceID0&lt;/x:Reference&gt;
    &lt;x:Reference&gt;__ReferenceID2&lt;/x:Reference&gt;
    &lt;x:Reference&gt;__ReferenceID3&lt;/x:Reference&gt;
    &lt;x:Reference&gt;__ReferenceID4&lt;/x:Reference&gt;
    &lt;x:Reference&gt;__ReferenceID5&lt;/x:Reference&gt;
    &lt;x:Reference&gt;__ReferenceID6&lt;/x:Reference&gt;
    &lt;x:Reference&gt;__ReferenceID7&lt;/x:Reference&gt;
    &lt;x:Reference&gt;__ReferenceID8&lt;/x:Reference&gt;
  &lt;/Flowchart&gt;
&lt;/Activity&gt;</WorkflowXaml>
</EsbWorkflowDefinition>